(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5bb5bb7f"],{"057f":function(e,t,r){var n=r("fc6a"),c=r("241c").f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return c(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?a(e):c(n(e))}},"1dde":function(e,t,r){var n=r("d039"),c=r("b622"),i=r("2d00"),o=c("species");e.exports=function(e){return i>=51||!n((function(){var t=[],r=t.constructor={};return r[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2182:function(e,t,r){"use strict";r.r(t);r("caad"),r("2532");var n=r("7a23");Object(n["pushScopeId"])("data-v-3edd41ad");var c=Object(n["createElementVNode"])("div",{class:"loading"},[Object(n["createElementVNode"])("span"),Object(n["createElementVNode"])("span"),Object(n["createElementVNode"])("span"),Object(n["createElementVNode"])("span")],-1),i={class:"content"},o=Object(n["createElementVNode"])("div",{class:"products-banner"},null,-1),a={class:"container py-5"},s={class:"row d-flex-center"},l={class:"col-lg-12"},u={class:"d-flex justify-content-center mb-4"},d={class:"search-body mb-3"},f={class:"search"},b=Object(n["createElementVNode"])("i",{class:"bi bi-search"},null,-1),h=[b],v={class:"list-group list-group-horizontal fw-bold fs-4 flex-wrap justify-content-center"},p=["onClick"],m={class:"container"},g={class:"row mt-3"},O={class:"container-fluid"},j={class:"card box-shadow border-0 text-center h-100 mb-4","data-aos":"zoom-in"},y={class:"card-img"},x={class:"card-footer border-top-0"},E={class:"card-header favorites"},k=["onClick"],w={key:0,class:"i bi-bookmark-heart-fill clickFavorite fs-2 text-atlanticBlue"},N={key:1,class:"i bi-bookmark-heart fs-2 text-atlanticBlue"},V=["onClick"],S=Object(n["createElementVNode"])("i",{class:"fas fa-cookie-bite"},null,-1),C=Object(n["createTextVNode"])(),B=Object(n["createElementVNode"])("span",{class:"ml-2 fs-5"},"產品資訊",-1),T=[S,C,B],z=["onClick"],P=Object(n["createElementVNode"])("i",{class:"bi bi-cart3 fs-4"},null,-1),I=[P],F={class:"card-body"},M={class:"card-title"},A={key:0,class:"h5 fw-bold card-text text-danger fs-5"};function L(e,t,r,b,S,C){var B=Object(n["resolveComponent"])("Loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(B,{active:S.isLoading},{default:Object(n["withCtx"])((function(){return[c]})),_:1},8,["active"]),Object(n["createElementVNode"])("div",i,[o,Object(n["createElementVNode"])("div",a,[Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",f,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",class:"search-txt",placeholder:"請輸入關鍵字...","onUpdate:modelValue":t[0]||(t[0]=function(e){return S.searchText=e}),onInput:t[1]||(t[1]=function(e){return C.searchProduct(S.searchText)})},null,544),[[n["vModelText"],S.searchText]]),Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-teal search-btn",onClick:t[2]||(t[2]=function(e){return S.searchText=""})},h)])])]),Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("a",{href:"#",class:Object(n["normalizeClass"])(["list-group-item border-0 px-3 py-2 rounded-pill text-center me-lg-2 me-1mb-1",{"bg-success":""===S.searchSelect,"text-white":""===S.searchSelect}]),onClick:t[3]||(t[3]=Object(n["withModifiers"])((function(e){return S.searchSelect=""}),["prevent"]))},"全部 ",2),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(S.categorieslist,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("a",{href:"#",key:e,class:Object(n["normalizeClass"])(["list-group-item border-0 px-3 py-2 rounded-pill text-center me-lg-2 me-1 mb-1",{"bg-success":S.searchSelect===e,"text-white":S.searchSelect===e}]),onClick:Object(n["withModifiers"])((function(t){return S.searchSelect=e}),["prevent"])},Object(n["toDisplayString"])(e),11,p)})),128))])])])]),Object(n["createElementVNode"])("div",m,[Object(n["createElementVNode"])("div",g,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(C.filterProducts,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"col-md-4",key:t.id},[Object(n["createElementVNode"])("div",O,[Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("div",y,[Object(n["createElementVNode"])("div",{style:Object(n["normalizeStyle"])([{height:"330px","background-size":"cover","background-position":"center","border-radius":"5%"},{backgroundImage:"url(".concat(t.imageUrl,")")}])},null,4)]),Object(n["createElementVNode"])("div",x,[Object(n["createElementVNode"])("div",E,[Object(n["createElementVNode"])("a",{href:"#",onClick:Object(n["withModifiers"])((function(e){return C.addMyFavorite(t)}),["prevent"])},[S.favorites.includes(t.id)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",w)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",N))],8,k),Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-many btn-block btn-sm p-2 ml-3 ",onClick:function(e){return C.getProduct(t.id)}},T,8,V),Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-finish btn-block btn-sm p-2 ml-3",onClick:Object(n["withModifiers"])((function(e){return C.addToCart(t.id)}),["prevent"])},I,8,z)])]),Object(n["createElementVNode"])("div",F,[Object(n["createElementVNode"])("h5",M,[Object(n["createElementVNode"])("strong",null,Object(n["toDisplayString"])(t.title),1)]),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["h5",[t.price!==t.origin_price?["text-brown-400","text-decoration-line-through"]:"text-dark"]])},"NT. "+Object(n["toDisplayString"])(e.$filters.currency(t.origin_price)),3),t.price!==t.origin_price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",A,"優惠價 "+Object(n["toDisplayString"])(e.$filters.currency(t.price))+" 元",1)):Object(n["createCommentVNode"])("",!0)])])])])})),128))])])])],64)}Object(n["popScopeId"])();r("99af"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("159b"),r("a630"),r("4de4"),r("ac1f"),r("466d"),r("a434");var D=r("e0c2"),_={data:function(){return{products:[],pagination:{},searchSelect:"",categorieslist:[],searchText:"",isLoading:!1,favorites:D["a"].get()||[]}},inject:["emitter"],methods:{getProducts:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yenying-api","/products/all");this.$http.get(t).then((function(t){e.isLoading=!1,e.products=t.data.products,e.pagination=t.data.pagination,e.categories(),console.log("products:",t)}))},getProduct:function(e){this.$router.push("/user/product/".concat(e))},categories:function(){var e=new Set;this.products.forEach((function(t){e.add(t.category)})),this.categorieslist=Array.from(e)},searchProduct:function(e){this.allProducts.filter((function(t){return t.title.match(e)})).length>0&&e?this.typeProduct=this.allProducts.filter((function(t){return t.title.match(e)})):e||(this.typeProduct=this.products.filter((function(e){return e})))},addToCart:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yenying-api","/cart"),c={product_id:e,qty:r};this.$http.post(n,{data:c}).then((function(e){e.data.success&&(t.isLoading=!1,t.emitter.emit("update-cart"),t.emitter.emit("push-message",{style:"success",title:"加入購物車"}))}))},addMyFavorite:function(e){this.favorites.includes(e.id)?(this.favorites.splice(this.favorites.indexOf(e.id),1),this.emitter.emit("push-message",{style:"danger",title:"已取消我的最愛"})):(this.favorites.push(e.id),this.emitter.emit("push-message",{style:"success",title:"已加入我的最愛"})),D["a"].save(this.favorites),this.emitter.emit("favorite")}},computed:{filterProducts:function(){var e=this;return this.searchText?this.products.filter((function(t){var r=t.title.toLowerCase().includes(e.searchText.toLowerCase());return r})):this.products.filter((function(t){return t.category.includes(e.searchSelect)}))}},mounted:function(){this.getProducts()}},$=(r("2d6c"),r("d959")),J=r.n($);const R=J()(_,[["render",L],["__scopeId","data-v-3edd41ad"]]);t["default"]=R},2532:function(e,t,r){"use strict";var n=r("23e7"),c=r("5a34"),i=r("1d80"),o=r("577e"),a=r("ab13");n({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~o(i(this)).indexOf(o(c(e)),arguments.length>1?arguments[1]:void 0)}})},"2d6c":function(e,t,r){"use strict";r("fa29")},"44e7":function(e,t,r){var n=r("861d"),c=r("c6b6"),i=r("b622"),o=i("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==c(e))}},"466d":function(e,t,r){"use strict";var n=r("d784"),c=r("825a"),i=r("50c4"),o=r("577e"),a=r("1d80"),s=r("8aa5"),l=r("14c3");n("match",(function(e,t,r){return[function(t){var r=a(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](o(r))},function(e){var n=c(this),a=o(e),u=r(t,n,a);if(u.done)return u.value;if(!n.global)return l(n,a);var d=n.unicode;n.lastIndex=0;var f,b=[],h=0;while(null!==(f=l(n,a))){var v=o(f[0]);b[h]=v,""===v&&(n.lastIndex=s(a,i(n.lastIndex),d)),h++}return 0===h?null:b}]}))},"4de4":function(e,t,r){"use strict";var n=r("23e7"),c=r("b727").filter,i=r("1dde"),o=i("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,r){"use strict";var n=r("0366"),c=r("7b0b"),i=r("9bdd"),o=r("e95a"),a=r("50c4"),s=r("8418"),l=r("9a1f"),u=r("35a1");e.exports=function(e){var t,r,d,f,b,h,v=c(e),p="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,O=void 0!==g,j=u(v),y=0;if(O&&(g=n(g,m>2?arguments[2]:void 0,2)),void 0==j||p==Array&&o(j))for(t=a(v.length),r=new p(t);t>y;y++)h=O?g(v[y],y):v[y],s(r,y,h);else for(f=l(v,j),b=f.next,r=new p;!(d=b.call(f)).done;y++)h=O?i(f,g,[d.value,y],!0):d.value,s(r,y,h);return r.length=y,r}},"5a34":function(e,t,r){var n=r("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},6062:function(e,t,r){"use strict";var n=r("6d61"),c=r("6566");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),c)},6566:function(e,t,r){"use strict";var n=r("9bf2").f,c=r("7c73"),i=r("e2cc"),o=r("0366"),a=r("19aa"),s=r("2266"),l=r("7dd0"),u=r("2626"),d=r("83ab"),f=r("f183").fastKey,b=r("69f3"),h=b.set,v=b.getterFor;e.exports={getConstructor:function(e,t,r,l){var u=e((function(e,n){a(e,u,t),h(e,{type:t,index:c(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=n&&s(n,e[l],{that:e,AS_ENTRIES:r})})),b=v(t),p=function(e,t,r){var n,c,i=b(e),o=m(e,t);return o?o.value=r:(i.last=o={index:c=f(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),d?i.size++:e.size++,"F"!==c&&(i.index[c]=o)),e},m=function(e,t){var r,n=b(e),c=f(t);if("F"!==c)return n.index[c];for(r=n.first;r;r=r.next)if(r.key==t)return r};return i(u.prototype,{clear:function(){var e=this,t=b(e),r=t.index,n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,r=b(t),n=m(t,e);if(n){var c=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=c),c&&(c.previous=i),r.first==n&&(r.first=c),r.last==n&&(r.last=i),d?r.size--:t.size--}return!!n},forEach:function(e){var t,r=b(this),n=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:r.first){n(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!m(this,e)}}),i(u.prototype,r?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return p(this,0===e?0:e,t)}}:{add:function(e){return p(this,e=0===e?0:e,e)}}),d&&n(u.prototype,"size",{get:function(){return b(this).size}}),u},setStrong:function(e,t,r){var n=t+" Iterator",c=v(t),i=v(n);l(e,t,(function(e,t){h(this,{type:n,target:e,state:c(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,r=e.last;while(r&&r.removed)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),u(t)}}},"6d61":function(e,t,r){"use strict";var n=r("23e7"),c=r("da84"),i=r("94ca"),o=r("6eeb"),a=r("f183"),s=r("2266"),l=r("19aa"),u=r("861d"),d=r("d039"),f=r("1c7e"),b=r("d44e"),h=r("7156");e.exports=function(e,t,r){var v=-1!==e.indexOf("Map"),p=-1!==e.indexOf("Weak"),m=v?"set":"add",g=c[e],O=g&&g.prototype,j=g,y={},x=function(e){var t=O[e];o(O,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(p&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return p&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(p&&!u(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})},E=i(e,"function"!=typeof g||!(p||O.forEach&&!d((function(){(new g).entries().next()}))));if(E)j=r.getConstructor(t,e,v,m),a.enable();else if(i(e,!0)){var k=new j,w=k[m](p?{}:-0,1)!=k,N=d((function(){k.has(1)})),V=f((function(e){new g(e)})),S=!p&&d((function(){var e=new g,t=5;while(t--)e[m](t,t);return!e.has(-0)}));V||(j=t((function(t,r){l(t,j,e);var n=h(new g,t,j);return void 0!=r&&s(r,n[m],{that:n,AS_ENTRIES:v}),n})),j.prototype=O,O.constructor=j),(N||S)&&(x("delete"),x("has"),v&&x("get")),(S||w)&&x(m),p&&O.clear&&delete O.clear}return y[e]=j,n({global:!0,forced:j!=g},y),b(j,e),p||r.setStrong(j,e,v),j}},7156:function(e,t,r){var n=r("861d"),c=r("d2bb");e.exports=function(e,t,r){var i,o;return c&&"function"==typeof(i=t.constructor)&&i!==r&&n(o=i.prototype)&&o!==r.prototype&&c(e,o),e}},8418:function(e,t,r){"use strict";var n=r("a04b"),c=r("9bf2"),i=r("5c6c");e.exports=function(e,t,r){var o=n(t);o in e?c.f(e,o,i(0,r)):e[o]=r}},"99af":function(e,t,r){"use strict";var n=r("23e7"),c=r("d039"),i=r("e8b5"),o=r("861d"),a=r("7b0b"),s=r("50c4"),l=r("8418"),u=r("65f0"),d=r("1dde"),f=r("b622"),b=r("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",m=b>=51||!c((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),g=d("concat"),O=function(e){if(!o(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)},j=!m||!g;n({target:"Array",proto:!0,forced:j},{concat:function(e){var t,r,n,c,i,o=a(this),d=u(o,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?o:arguments[t],O(i)){if(c=s(i.length),f+c>v)throw TypeError(p);for(r=0;r<c;r++,f++)r in i&&l(d,f,i[r])}else{if(f>=v)throw TypeError(p);l(d,f++,i)}return d.length=f,d}})},"9bdd":function(e,t,r){var n=r("825a"),c=r("2a62");e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(o){c(e,"throw",o)}}},a434:function(e,t,r){"use strict";var n=r("23e7"),c=r("23cb"),i=r("a691"),o=r("50c4"),a=r("7b0b"),s=r("65f0"),l=r("8418"),u=r("1dde"),d=u("splice"),f=Math.max,b=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var r,n,u,d,p,m,g=a(this),O=o(g.length),j=c(e,O),y=arguments.length;if(0===y?r=n=0:1===y?(r=0,n=O-j):(r=y-2,n=b(f(i(t),0),O-j)),O+r-n>h)throw TypeError(v);for(u=s(g,n),d=0;d<n;d++)p=j+d,p in g&&l(u,d,g[p]);if(u.length=n,r<n){for(d=j;d<O-n;d++)p=d+n,m=d+r,p in g?g[m]=g[p]:delete g[m];for(d=O;d>O-n+r;d--)delete g[d-1]}else if(r>n)for(d=O-n;d>j;d--)p=d+n-1,m=d+r-1,p in g?g[m]=g[p]:delete g[m];for(d=0;d<r;d++)g[d+j]=arguments[d+2];return g.length=O-n+r,u}})},a630:function(e,t,r){var n=r("23e7"),c=r("4df4"),i=r("1c7e"),o=!i((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:o},{from:c})},ab13:function(e,t,r){var n=r("b622"),c=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[c]=!1,"/./"[e](t)}catch(n){}}return!1}},bb2f:function(e,t,r){var n=r("d039");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},caad:function(e,t,r){"use strict";var n=r("23e7"),c=r("4d64").includes,i=r("44d2");n({target:"Array",proto:!0},{includes:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},e0c2:function(e,t,r){"use strict";t["a"]={save:function(e){var t=JSON.stringify(e);localStorage.setItem("happyfarmFavorite",t)},get:function(){return JSON.parse(localStorage.getItem("happyfarmFavorite"))}}},f183:function(e,t,r){var n=r("23e7"),c=r("d012"),i=r("861d"),o=r("5135"),a=r("9bf2").f,s=r("241c"),l=r("057f"),u=r("90e3"),d=r("bb2f"),f=!1,b=u("meta"),h=0,v=Object.isExtensible||function(){return!0},p=function(e){a(e,b,{value:{objectID:"O"+h++,weakData:{}}})},m=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,b)){if(!v(e))return"F";if(!t)return"E";p(e)}return e[b].objectID},g=function(e,t){if(!o(e,b)){if(!v(e))return!0;if(!t)return!1;p(e)}return e[b].weakData},O=function(e){return d&&f&&v(e)&&!o(e,b)&&p(e),e},j=function(){y.enable=function(){},f=!0;var e=s.f,t=[].splice,r={};r[b]=1,e(r).length&&(s.f=function(r){for(var n=e(r),c=0,i=n.length;c<i;c++)if(n[c]===b){t.call(n,c,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},y=e.exports={enable:j,fastKey:m,getWeakData:g,onFreeze:O};c[b]=!0},fa29:function(e,t,r){}}]);
//# sourceMappingURL=chunk-5bb5bb7f.64c577ec.js.map